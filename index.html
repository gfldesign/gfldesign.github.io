<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>GFL.design Marketplace</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Anton&family=Bebas+Neue&display=swap" rel="stylesheet">
  <style>
    .popup { display: none; }
    .popup.show { display: block; }

    .custom-header {
      background-image: url('images/image.png');
      background-size: cover;
      background-position: center;
      min-height: 300px;
    }

    .custom-header h1 {
      font-family: 'Anton', sans-serif;
      letter-spacing: 2px;
      text-shadow: 3px 3px 6px rgba(0,0,0,0.8);
      text-transform: uppercase;
    }

    .product h2, nav a {
      font-family: 'Bebas Neue', sans-serif;
      letter-spacing: 1px;
    }

    nav a:hover {
      transform: scale(1.05);
      transition: all 0.3s ease;
    }

    input::placeholder {
      color: #222;
    }

    input[type="text"],
    input[type="password"] {
      color: #000 !important;
      background-color: #fff;
    }

    .hidden { display: none; }
  </style>
</head>
<body class="bg-gray-100 font-sans">

  <header class="custom-header shadow flex flex-col items-center justify-center relative text-white px-4">
    <img src="images/logo gfl.jpg" alt="Logo GFL" class="h-14 mb-3" />
    <h1 class="text-4xl font-bold uppercase tracking-wide drop-shadow-lg">Find Your Style</h1>
    <input id="searchInput" type="text" placeholder="Cari produk..." class="border p-2 rounded w-full sm:w-1/2 mt-4 text-black" onkeyup="searchProduct()" />
    <div class="flex gap-2 mt-4" id="authButtons">
      <button onclick="toggleCart()" class="bg-green-700 text-white px-4 py-2 rounded">ðŸ›’ Keranjang</button>
      <button onclick="togglePopup('masukPopup')" class="bg-gray-800 text-white px-4 py-2 rounded">Masuk</button>
    </div>
    <div id="masukPopup" class="popup absolute top-16 right-4 bg-white border p-4 rounded shadow-lg w-64 z-50">
      <h3 class="font-bold mb-2 text-black">Masuk Pengguna</h3>
      <input id="usernameInput" type="text" placeholder="Username" class="border p-2 mb-2 w-full rounded" />
      <input id="passwordInput" type="password" placeholder="Password" class="border p-2 mb-2 w-full rounded" />
      <button onclick="loginUser()" class="bg-gray-800 text-white px-4 py-2 w-full rounded">Masuk</button>
    </div>
    <div id="cartPopup" class="popup absolute top-16 right-[24rem] bg-white border p-4 rounded shadow-lg w-72 z-50">
      <h3 class="font-bold mb-2 text-black">Keranjang Belanja</h3>
      <ul id="cartItems" class="text-sm mb-2 text-black"></ul>
      <p class="font-semibold text-black">Total: <span id="totalHarga">Rp 0</span></p>
      <button id="checkoutBtn" onclick="checkout()" class="bg-green-600 text-white w-full mt-2 py-2 rounded hidden">Checkout</button>
    </div>
    <div id="notLoggedInPopup" class="popup absolute top-16 right-[28rem] bg-red-100 border border-red-400 text-red-700 p-4 rounded shadow-lg w-64 z-50">
      <p class="font-medium">Silakan masuk terlebih dahulu sebelum membeli.</p>
    </div>
  </header>

  <nav class="bg-gray-200 p-3 flex gap-6 text-sm font-medium justify-center shadow-sm sticky top-0 z-10">
    <a href="#" onclick="filterCategory('tshirt')" class="hover:underline">T-Shirt</a>
    <a href="#" onclick="filterCategory('hoodie')" class="hover:underline">Hoodie</a>
  </nav>

  <main id="productList" class="p-6 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
    <div class="product tshirt bg-white rounded-lg shadow p-4">
      <img src="images/Produk 3 Jersey.jpg" alt="Jersey Brown" class="w-full h-40 object-cover rounded" />
      <h2 class="mt-2 font-semibold">Jersey Brown</h2>
      <p class="text-sm text-gray-500">GFL.design</p>
      <p class="mt-1 font-bold text-lg">Rp 79.000</p>
      <button onclick="tambahKeKeranjang('Jersey Brown', 79000)" class="mt-2 w-full bg-black text-white py-2 rounded">Beli</button>
    </div>
    <div class="product hoodie bg-white rounded-lg shadow p-4">
      <img src="images/Produk 1 Hodie .jpg" alt="Hoddies Camo" class="w-full h-40 object-cover rounded" />
      <h2 class="mt-2 font-semibold">Hoddies Camo Pack</h2>
      <p class="text-sm text-gray-500">GFL.design</p>
      <p class="mt-1 font-bold text-lg">Rp 100.000</p>
      <button onclick="tambahKeKeranjang('Hoddies Camo', 100000)" class="mt-2 w-full bg-black text-white py-2 rounded">Beli</button>
    </div>
    <div class="product hoodie bg-white rounded-lg shadow p-4">
      <img src="images/Produk 2 Hodie.jpg" alt="Hoddies Training" class="w-full h-40 object-cover rounded" />
      <h2 class="mt-2 font-semibold">Hoddies Training</h2>
      <p class="text-sm text-gray-500">GFL.design</p>
      <p class="mt-1 font-bold text-lg">Rp 79.000</p>
      <button onclick="tambahKeKeranjang('Hoddies Training', 79000)" class="mt-2 w-full bg-black text-white py-2 rounded">Beli</button>
    </div>
    <div id="noProduct" class="hidden col-span-full text-center text-gray-500 text-lg font-semibold">Produk tidak tersedia untuk kategori ini.</div>
  </main>

  <footer class="bg-white mt-12 p-6 text-center text-sm text-gray-500">
    &copy; 2025 GFL.design. All rights reserved.
  </footer>

  <script>
    let keranjang = [];
    let userLoggedIn = false;

    function togglePopup(id) {
      const popups = ['masukPopup', 'cartPopup', 'notLoggedInPopup'];
      popups.forEach(p => {
        if (p !== id) document.getElementById(p).classList.remove('show');
      });
      document.getElementById(id).classList.toggle('show');
    }

    function toggleCart() {
      togglePopup('cartPopup');
    }

    function loginUser() {
      userLoggedIn = true;
      document.getElementById('masukPopup').classList.remove('show');
      document.getElementById('authButtons').innerHTML = `
        <button onclick="toggleCart()" class="bg-green-700 text-white px-4 py-2 rounded">ðŸ›’ Keranjang</button>
        <button onclick="logoutUser()" class="bg-red-600 text-white px-4 py-2 rounded">Logout</button>`;
      alert('Berhasil masuk!');
    }

    function logoutUser() {
      userLoggedIn = false;
      keranjang = [];
      updateCart();
      document.getElementById('authButtons').innerHTML = `
        <button onclick="toggleCart()" class="bg-green-700 text-white px-4 py-2 rounded">ðŸ›’ Keranjang</button>
        <button onclick="togglePopup('masukPopup')" class="bg-gray-800 text-white px-4 py-2 rounded">Masuk</button>`;
      alert('Berhasil logout.');
    }

    function tambahKeKeranjang(namaProduk, harga) {
      if (!userLoggedIn) {
        togglePopup('notLoggedInPopup');
        setTimeout(() => document.getElementById('notLoggedInPopup').classList.remove('show'), 2500);
        return;
      }
      keranjang.push({ nama: namaProduk, harga });
      alert(`${namaProduk} ditambahkan ke keranjang.`);
      updateCart();
    }

    function updateCart() {
      const list = document.getElementById("cartItems");
      const totalEl = document.getElementById("totalHarga");
      const tombolBayar = document.getElementById("checkoutBtn");
      list.innerHTML = "";
      let total = 0;
      keranjang.forEach(item => {
        const li = document.createElement("li");
        li.textContent = `${item.nama} - Rp ${item.harga.toLocaleString()}`;
        list.appendChild(li);
        total += item.harga;
      });
      totalEl.textContent = "Rp " + total.toLocaleString();
      tombolBayar.style.display = keranjang.length > 0 ? 'block' : 'none';
    }

    function checkout() {
      if (keranjang.length === 0) {
        alert("Keranjang masih kosong.");
        return;
      }
      if (confirm("Apakah kamu yakin ingin membayar?")) {
        alert("Pembayaran berhasil! Terima kasih telah berbelanja di GFL.design.");
        keranjang = [];
        updateCart();
        toggleCart();
      }
    }

    function searchProduct() {
      const keyword = document.getElementById('searchInput').value.toLowerCase();
      const products = document.querySelectorAll('.product');
      let found = false;
      products.forEach(product => {
        const title = product.querySelector('h2').innerText.toLowerCase();
        const match = title.includes(keyword);
        product.style.display = match ? 'block' : 'none';
        if (match) found = true;
      });
      document.getElementById('noProduct').classList.toggle('hidden', found);
    }

    function filterCategory(category) {
      const products = document.querySelectorAll('.product');
      let found = false;
      products.forEach(p => {
        const isVisible = p.classList.contains(category);
        p.style.display = isVisible ? 'block' : 'none';
        if (isVisible) found = true;
      });
      document.getElementById('noProduct').classList.toggle('hidden', found);
    }
  </script>
</body>
</html>
